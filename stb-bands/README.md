README for Siesta Tool Box - Bands (STB-Bands)
=============================================

A Python script to extract and visualize electronic band structures from SIESTA calculations.

********************************************************************************************

OVERVIEW:
---------
This tool processes SIESTA-generated band structure data (.bands) to calculate key properties
like the Valence Band Maximum (VBM), Conduction Band Minimum (CBM), and band gap. It generates
plots in PDF format using GNUPLOT and provides options to shift energy levels relative to
Fermi energy, VBM, CBM, or a manual value.

KEY FEATURES:
-------------
- Automatically calculates VBM, CBM, and band gap.
- Generates publication-ready band structure plots.
- Supports energy shifts for alignment (Fermi, VBM, CBM, or manual value).
- Outputs GNUPLOT-compatible data and plotting scripts.
- Includes vertical lines at high-symmetry points (e.g., Γ, X, L).

# REQUIRED DEPENDENCIES FOR STB-BANDS
# ===================================

[PYTHON DEPENDENCIES]
- Python 3.6 or newer
- numpy      (>=1.19.0)
- matplotlib (>=3.3.0)

Install with pip:
```bash
pip install numpy matplotlib


********************************************************************************************

INSTALLATION:
-------------
1. Download the script `stb-bands.x` (or rename your file to this).
2. Ensure dependencies are installed:

´´´
stb-bands.x --input-file <input_file> --shift <option> [--manual-value <value>]
´´´

ARGUMENTS:
----------
--input-file     Path to SIESTA bands file (e.g., siesta.bands).
--shift          Energy reference for shifting bands:
                   - 'vbm'   : Align to Valence Band Maximum
                   - 'cbm'   : Align to Conduction Band Minimum
                   - 'fermi' : Align to Fermi level (default in SIESTA)
                   - 'manual': Custom value (requires --manual-value)
--manual-value   Custom shift value (required if --shift=manual).

EXAMPLES:
---------
1. Shift bands to Fermi level:

```
python stb-bands.x --input-file siesta.bands --shift fermi
```
2. Shift bands to VBM and generate plots:

```
python stb-bands.x --input-file siesta.bands --shift vbm
```

3. Manual shift by 0.5 eV:
```
python stb-bands.x --input-file siesta.bands --shift manual --manual-value 0.5
```

********************************************************************************************

INPUT FILE FORMAT:
------------------
The script expects a `siesta.bands` file automatically generated by SIESTA in bands structure calculations.


********************************************************************************************

OUTPUT FILES:
-------------
1. `bands_gnuplot.dat`    : Data file for plotting (shifted energies).
2. `bands.gplot`          : GNUPLOT script to generate PDF plot.
3. `energy_bands.pdf`     : Final band structure plot (generated via GNUPLOT).
4. Terminal output        : Displays VBM, CBM, Fermi energy, and band gap.

CUSTOMIZING PLOTS:
------------------
- Modify `bands.gplot` to adjust plot styles (colors, labels, ranges).


********************************************************************************************

TROUBLESHOOTING:
----------------
- "File not found": Ensure the input file path is correct.
- Missing dependencies: Verify numpy/matplotlib are installed.
- GNUPLOT errors: Check if `gnuplot` is in your system PATH.
- Empty plots: Adjust y-axis range in `bands.gplot` (e.g., `set yrange [-5:5]`).

********************************************************************************************

ACKNOWLEDGMENTS:
----------------
Developed by Dr. Carlos M. O. Bastos at the University of Brasilia (UnB), Brazil.
Part of the Siesta Tool Box (STB) suite.

********************************************************************************************

LICENSE:
--------
Free for academic use. Contact the author for commercial licensing.

********************************************************************************************

NOTE:
-----
